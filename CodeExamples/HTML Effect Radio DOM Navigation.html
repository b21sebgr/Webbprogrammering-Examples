<html xmlns = "http://www.w3.org/1999/xhtml">
<head>
  <style>
    .group{
        border:2px solid green;
        border-radius:6px;
        padding:4px;
    }
    .clickable{
        border:2px solid red;
        background-color:#2d2;    
        border-radius:6px;
        padding:4px;
    }
    .selected{
        background:#48f;
    }
    .on{
        border:2px solid green;
        background-color:#f44;
        border-radius:6px;
        padding:4px;
    }       
  </style>
  <script type="text/javascript" >
    function loaded()
    {
        var clickables=document.getElementsByClassName("clickable");
        for(clickable of clickables){
            clickable.addEventListener("click", function(event){
              for(child of event.target.parentElement.childNodes) {
                  if(child.classList!=null) child.classList.remove("on");
              }
              event.target.classList.add("on");
              var parents=document.getElementsByClassName("group");
              for(parent of parents){
                  parent.classList.remove("selected");
              }
              event.target.parentElement.classList.add("selected");
            });
        }
    }
  </script>
 
</head>
<body onload="loaded()">
    <div id="group1" class="group">
        <span id="e1" class="clickable">A</span>
        <span id="e2" class="clickable">B</span>
    </div>
    <div id="group2" class="group">
        <span id="e3" class="clickable">C</span>
        <span id="e4" class="clickable">D</span>
    </div>
</body>
</html>